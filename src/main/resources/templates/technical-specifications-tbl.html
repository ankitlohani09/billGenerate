<!-- Technical Specifications and BOM Section -->
<section>
    <h2>Technical Specifications and BOM FOR SOLAR POWER PLANT:</h2>
    <table id="technicalSpecificationsTable">
        <tr>
            <th>S No.</th>
            <th>Components</th>
            <th>Specifications</th>
            <th>Make</th>
            <th>Quantity</th>
        </tr>
        <tr>
            <td>1</td>
            <td>Solar PV Modules</td>
            <td>MONOPERC HALFCUT BIFACIAL PANEL 545WP 03 KW</td>
            <td>
                <select id="solarPVModulesMake" th:field="*{solarPVModulesMake}" onchange="toggleOtherInput('solarPVModules')">
                    <option value="SUNBOND">SUNBOND</option>
                    <option value="Adani">Adani</option>
                    <option value="Tata">Tata</option>
                    <option value="Goldy">Goldy</option>
                    <option value="Wari">Wari</option>
                    <option value="Other">Other</option>
                </select>
                <input id="solarPVModulesMakeInput" th:field="*{solarPVModulesMake}" type="text" style="display: none;" placeholder="Enter manually">
            </td>
            <td><input id="solarPVModulesQty" required th:field="*{solarPVModulesQty}" type="text"></td>
        </tr>
        <tr>
            <td>2</td>
            <td>Solar Inverter</td>
            <td>On-grid type MPPT based solar inverter with grid energy export function 03 KW</td>
            <td>
                <select id="solarInverterMake" th:field="*{solarInverterMake}" onchange="toggleOtherInput('solarInverter')">
                    <option value="V SOLE">V SOLE</option>
                    <option value="Havels">Havels</option>
                    <option value="Mindra">Mindra</option>
                    <option value="Other">Other</option>
                </select>
                <input id="solarInverterMakeInput" th:field="*{solarInverterMake}" type="text" style="display: none;" placeholder="Enter manually">
            </td>
            <td><input id="solarInverterQty" required th:field="*{solarInverterQty}" type="text"></td>
        </tr>
        <tr>
            <td>3</td>
            <td>Mounting Structure</td>
            <td>Mounting Structure 140*60 MM & 41*41 Galvanized 3 KW</td>
            <td></td>
            <td><input id="mountingStructureQty" required th:field="*{mountingStructureQty}" type="text"></td>
        </tr>
        <tr>
            <td>4</td>
            <td>AC Cables</td>
            <td>AC side-AL. ARMORED/COPPER FLEXIBLE (AS PER SIDE CONDITION)</td>
            <td>Polycab/ISI</td>
            <td><input id="acCablesQty" required th:field="*{acCablesQty}" type="text"></td>
        </tr>
        <tr>
            <td>5</td>
            <td>DC Cables</td>
            <td>DC side copper</td>
            <td>Polycab/ISI</td>
            <td><input id="dcCablesQty" required th:field="*{dcCablesQty}" type="text"></td>
        </tr>
        <tr>
            <td>6</td>
            <td>Distribution Boxes (DC)</td>
            <td>DC distribution box with built-in SPD and DC Fuses IP65 protected</td>
            <td>HEVELLS & PHOENIX</td>
            <td><input id="distributionBoxesDcQty" required th:field="*{distributionBoxesDcQty}" type="text"></td>
        </tr>
        <tr>
            <td>7</td>
            <td>Distribution Boxes (AC)</td>
            <td>AC Combiner box with built-in SPD and AC MCB/MCCB IP65 protected Spike type lighting arrestor, 1 MTR</td>
            <td>HEVELLS & PHOENIX</td>
            <td><input id="distributionBoxesAcQty" required th:field="*{distributionBoxesAcQty}" type="text"></td>
        </tr>
        <tr>
            <td>8</td>
            <td>Earthling</td>
            <td>Copper bonded chemical earthings. Insulated copper conductor for earthing connection</td>
            <td>TRUE POWER</td>
            <td><input id="earthlingQty" required th:field="*{earthlingQty}" type="text"></td>
        </tr>
        <tr>
            <td>9</td>
            <td>System Monitoring</td>
            <td>Wi-Fi based Remote monitoring and weather monitoring system and data logger inbuilt in the inverter</td>
            <td>AS PER INVERTER</td>
            <td><input id="systemMonitoringQty" required th:field="*{systemMonitoringQty}" type="text"></td>
        </tr>
        <tr>
            <td>10</td>
            <td>MC4 Connectors</td>
            <td>TUV approved, UV protected STD</td>
            <td></td>
            <td><input id="mc4ConnectorsQty" required th:field="*{mc4ConnectorsQty}" type="text"></td>
        </tr>
        <tr>
            <td>11</td>
            <td>Switchgears</td>
            <td>MCBs, MCCBs, Isolators etc.</td>
            <td>HAVELLS/ABB</td>
            <td><input id="switchGearsQty" required th:field="*{switchGearsQty}" type="text"></td>
        </tr>
        <tr>
            <td>12</td>
            <td>Balance of System</td>
            <td>TUV approved PVC conduits, cable ties, electric tapes, enclosures etc.</td>
            <td>Polycab/Steel grip</td>
            <td><input id="balanceOfSystemQty" required th:field="*{balanceOfSystemQty}" type="text"></td>
        </tr>
        <tr>
            <td>13</td>
            <td>Net Meter</td>
            <td>Net meter and modem for MPEB</td>
            <td>SECURE/HPL</td>
            <td><input id="netMeterQty" required th:field="*{netMeterQty}" type="text"></td>
        </tr>
    </table>
</section>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    function toggleOtherInput(inputType) {
        const $selectElement = $(`#${inputType}Make`);
        const $otherBrandInput = $(`#${inputType}MakeInput`);
        if ($selectElement.val() === 'Other') {
            $otherBrandInput.show().prop('required', true).focus();
            $otherBrandInput.on('input', function() {
                $selectElement.val($otherBrandInput.val());
            });
        } else {
            $otherBrandInput.hide().prop('required', false);
            $otherBrandInput.off('input');
        }
    }
</script>